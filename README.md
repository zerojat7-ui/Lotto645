# Lotto645
2026-02-12
로또 6/45 당첨 번호 분석 및 추천번호 생성기 제작

## ver 5.0 
역대 당첨번호 로 데이터 분석 후 추천 번호 생성
반자동 모드 생성

## ver 6.0
반자동 탭에서 당첨결과와 대조 기능 추가
당첨번호 데이터 최종회 까지 확충
고급 추천 엔진 기능 강화
(일반적으로 쓰는 랜덤 방식이 아니라 실제 추첨과 유사한 방식의 랜덤 번호 생성)

## ver 6.1
고급 추천번호 생성시 느림 개선

## ver 6.2
https://zerojat7-ui.github.io/LibraryJS/
외부 링크를 통해 엔진 최적화
엔진 가동상태 화면 표시

## ver 6.3
외부엔진 가동시간이 모바일환경에서 딜레이가 많음 모바일 환경 최적화 구현

## ver 6.3.1
고급 추천번호 작동시 모니터링 화면 사라짐 현상 복구

## ver 6.3.4
고급 추천 110에서 더 감소 구동안됨

## ver 7.0.0
UI 전면 교체 데이터 업로드와 메인 페이지 분리

## ver 7.1.0
data loading error 수정

## ver 7.2.0
data save 기능 수정

## ver 8.0.0
2026-02-15

### 아키텍처 개편
- `index.html` → `main.html` 직접 진입 (LoadData 경유 제거)
- `LoadData.html` 독립 관리 페이지로 분리 (직접 접근 전용)

### 엔진 학습 통합
- 추천(recommend.js)과 반자동(semiauto.js)의 CubeEngine 학습 상태를 분리 운영하던 것을
  Firestore `shared_engine_state` 단일 문서로 통합
- 양쪽 탭 실행 결과가 누적 학습(iteration)에 공동 기여 → 장기적으로 추천 정밀도 향상
- 저장 시 `source` 필드로 출처 구분 ('recommend' / 'semi')

### 저장 데이터에 엔진 버전 추가
- LocalStorage 및 Firebase `recommendations` 컬렉션 저장 시 `engineVersion` 필드 포함
- 기록 탭 카드에 엔진 버전 표시 (예: v2.0.1)

### 탭 구성 변경
- 기존 4탭 → 5탭으로 확장
- 순서: [🏆 당첨] [📊 분석] [🎯 추천] [✏️ 반자동] [📋 기록]

### 당첨 탭 신설
- 전체 당첨 이력을 내림차순(최신순)으로 표시
- 각 회차 카드: 번호볼 + 보너스볼 + 통계(홀짝/고저/끝수합/번호합/AC값)
- 이미지 시안 기반 UI 구현

### 헤더 정리
- main.html 상단 좌측 뒤로가기(←) 버튼 제거

## ver 8.1.0
2026-02-15

### LoadData.html 전면 재작성
- Firebase SDK를 최상단에 로드하여 초기화 순서 보장
- 외부 js 파일(app.js 등) 의존성 완전 제거 → 단독 실행 가능
- **보너스번호 입력란 추가** (주황 점선 버튼, 입력 시 중복 검증)
- 번호 선택 시 실시간 미리보기 (로또볼 렌더링)
- CSV 업로드 시 기존 데이터와 병합 처리 (중복 회차 덮어쓰기)
- Firebase 현황 패널: 저장 회차 수 · 범위 · 마지막 업데이트 시간 표시
- 저장 흐름: 입력 → Firebase 저장 → LocalStorage 캐시 자동 동기화

### index.html 전면 재작성
- Firebase 우선 로드 → LocalStorage 캐시 → history.json 순서로 폴백
- Firebase와 LS 캐시 동시 존재 시 회차 번호 비교하여 최신 데이터 선택
- 4단계 진행 도트 UI (연결 → 데이터 로드 → 캐싱 → 이동)
- 어떤 경우에도 main.html로 진입 보장 (데이터 없어도 이동)

## ver 8.2.0
2026-02-15

### 당첨 탭 UI 개선 (app.js)

**번호볼 한 줄 표시**
- `flex-wrap:nowrap` + `overflow-x:auto` 적용으로 번호볼 + 보너스볼이 항상 한 줄에 표시
- 볼 크기 42px → 38px로 조정하여 모바일 화면에서 잘리지 않게 처리

**색상 통계 추가**
- 황(1~10) · 청(11~20) · 적(21~30) · 흑(31~40) · 녹(41~45) 구간별 번호 개수 집계
- `황+청+적+흑+녹` 형식으로 표시 (예: `3+1+1+1+0`)

**연속번호 출현 표시 추가**
- 인접 번호 간 차이가 1인 쌍(pair) 개수를 계산
- 연속 쌍이 1개 이상이면 빨간색으로 강조, 없으면 회색 표시

**통계 레이아웃 2행 분리**
- 1행: 홀짝 · 고저 · 색상 · 연속
- 2행: 끝수합 · 번호합 · AC값
