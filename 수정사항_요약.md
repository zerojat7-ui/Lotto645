# ğŸš€ ë¡œë˜ ì•± ì €ì¥ ë¬¸ì œ - ìˆ˜ì • ì‚¬í•­ ìš”ì•½

## ğŸ“¦ ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡

| íŒŒì¼ | ìˆ˜ì • ë‚´ìš© | ì˜í–¥ |
|------|---------|------|
| **records.js** | `saveForecastLocal()` í•¨ìˆ˜ ì¶”ê°€ | ì €ì¥ ê¸°ëŠ¥ í†µí•© |
| **recommend.js** | ì¤‘ë³µ `saveForecastLocal()` í•¨ìˆ˜ ì œê±° | ì½”ë“œ ì •ë¦¬ |
| **main.html** | records.js ë¡œë“œ ì¶”ê°€ (recommend.js ì´ì „) | í•¨ìˆ˜ ì˜ì¡´ì„± í•´ê²° |
| **LoadData.html** | records.js ë¡œë“œ ìˆœì„œ ë³€ê²½ | ìŠ¤í¬ë¦½íŠ¸ ìˆœì„œ ì •ì • |

---

## ğŸ’¡ í•µì‹¬ ë¬¸ì œì™€ í•´ê²°ì±…

### ë¬¸ì œ 1: `normalizeType is undefined`
```javascript
// ì›ì¸: normalizeTypeì€ records.jsì—ë§Œ ì •ì˜ë˜ì–´ ìˆëŠ”ë°,
// main.htmlì—ì„œ records.jsë¥¼ ë¡œë“œí•˜ì§€ ì•ŠìŒ

// í•´ê²°ì±…: main.htmlì— ë‹¤ìŒ ë¼ì¸ ì¶”ê°€
<script src="records.js"></script>  <!-- recommend.js ì´ì „ -->
```

### ë¬¸ì œ 2: `loadForecastData is undefined`
```javascript
// ì›ì¸: ë™ì¼ - records.js ë¡œë“œ ëˆ„ë½

// í•´ê²°ì±…: ìœ„ì™€ ë™ì¼
```

### ë¬¸ì œ 3: `saveForecastLocal is undefined`
```javascript
// ì›ì¸: recommend.jsì˜ saveForecastLocal()ì´ ìˆì§€ë§Œ,
// recommend.jsê°€ records.jsì˜ í•¨ìˆ˜(generateUUID ë“±)ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ

// í•´ê²°ì±…:
// 1. saveForecastLocal()ì„ records.jsë¡œ ì´ë™ (ì™„ë£Œ)
// 2. recommend.jsì˜ ì¤‘ë³µ ì •ì˜ ì œê±° (ì™„ë£Œ)
// 3. records.jsë¥¼ recommend.js ì´ì „ì— ë¡œë“œ (ì™„ë£Œ)
```

---

## ğŸ“ ìƒì„¸ ë³€ê²½ì‚¬í•­

### 1. records.js (ë¼ì¸ 36 ì¶”ê°€)

**ì¶”ê°€ëœ í•¨ìˆ˜**:
```javascript
function saveForecastLocal(opts) {
    var records = loadForecastData();
    if (!records) records = [];
    var sameType = normalizeType(opts.type);
    var cycle = records.filter(function(r) {
        return r.round === opts.round && normalizeType(r.type) === sameType;
    }).length + 1;

    var entry = {
        uuid : generateUUID(),
        round: opts.round,
        type : sameType,
        item : opts.numbers || opts.item || [],
        rank : opts.rank || null,
        time : new Date().toISOString(),
        cycle: cycle
    };
    records.push(entry);
    saveForecastData(records);
    return entry;
}
```

### 2. recommend.js (ë¼ì¸ 265-284 ì œê±°)

**ì‚­ì œëœ ì¤‘ë³µ í•¨ìˆ˜**:
```javascript
// âŒ ì œê±°ë¨
function saveForecastLocal(opts) { ... }
```

**ì¶”ê°€ëœ ì£¼ì„**:
```javascript
// saveForecastLocalì€ records.jsì—ì„œ ì •ì˜ë¨
```

### 3. main.html (line ë³€ê²½)

**ë³€ê²½ ì „**:
```html
<script src="analysis.js"></script>
<script src="recommend.js"></script>
<script src="semiauto.js"></script>
<script src="app.js"></script>
<!-- âŒ records.js ë¡œë“œ ì—†ìŒ -->
```

**ë³€ê²½ í›„**:
```html
<script src="analysis.js"></script>
<script src="records.js"></script>      <!-- â­ ì¶”ê°€ -->
<script src="recommend.js"></script>
<script src="semiauto.js"></script>
<script src="app.js"></script>
```

### 4. LoadData.html (ë¡œë“œ ìˆœì„œ ì¬ì •ë ¬)

**ë³€ê²½ ì „**:
```html
<script src="analysis.js"></script>
<script src="recommend.js"></script>
<script src="semiauto.js"></script>
<script src="records.js"></script>      <!-- âŒ ë„ˆë¬´ ëŠ¦ê²Œ ë¡œë“œ -->
```

**ë³€ê²½ í›„**:
```html
<script src="analysis.js"></script>
<script src="records.js"></script>      <!-- â­ ì´ì „ìœ¼ë¡œ ì´ë™ -->
<script src="recommend.js"></script>
<script src="semiauto.js"></script>
```

---

## ğŸ”— í˜¸ì¶œ íë¦„ë„

```
index.html (ë¡œë”©í˜ì´ì§€)
    â†“
main.html
    â”œâ”€ records.js (í•„ìˆ˜ í•¨ìˆ˜ ë¡œë“œ)
    â”œâ”€ recommend.js (saveForecastLocal ì‚¬ìš©)
    â””â”€ semiauto.js (saveForecastLocal ì‚¬ìš©)

ë˜ëŠ”

LoadData.html
    â”œâ”€ records.js (í•„ìˆ˜ í•¨ìˆ˜ ë¡œë“œ)
    â”œâ”€ recommend.js
    â”œâ”€ semiauto.js
    â””â”€ app.js
```

---

## âœ… ì„¤ì¹˜ ë°©ë²•

1. **ë‹¤ìš´ë¡œë“œí•œ íŒŒì¼ í™•ì¸**:
   - âœ… records.js (ìˆ˜ì •)
   - âœ… recommend.js (ìˆ˜ì •)
   - âœ… main.html (ìˆ˜ì •)
   - âœ… LoadData.html (ìˆ˜ì •)

2. **ê¸°ì¡´ íŒŒì¼ ë°±ì—…** (ì„ íƒì‚¬í•­):
   ```
   ê¸°ì¡´íŒŒì¼/
   â”œâ”€ records.js.bak
   â”œâ”€ recommend.js.bak
   â”œâ”€ main.html.bak
   â””â”€ LoadData.html.bak
   ```

3. **íŒŒì¼ êµì²´**:
   - ë‹¤ìš´ë¡œë“œí•œ íŒŒì¼ë¡œ ê¸°ì¡´ íŒŒì¼ êµì²´
   - ë™ì‹œì— ëª¨ë“  íŒŒì¼ êµì²´ í•„ìˆ˜

4. **ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ**:
   - F12 â†’ Network íƒ­ â†’ "Disable cache" ì²´í¬
   - ë˜ëŠ” Ctrl+Shift+Delete (Windows) / Cmd+Shift+Delete (Mac)
   - "ìºì‹œëœ ì´ë¯¸ì§€ ë° íŒŒì¼" ì‚­ì œ

5. **í…ŒìŠ¤íŠ¸**:
   ```javascript
   // ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì‹¤í–‰
   typeof saveForecastLocal     // 'function' ì¶œë ¥
   typeof normalizeType          // 'function' ì¶œë ¥
   typeof loadForecastData       // 'function' ì¶œë ¥
   ```

---

## ğŸ¯ ë™ì‘ í™•ì¸

### ì €ì¥ ì„±ê³µ ì‹ í˜¸
- âœ… ë°˜ìë™ íƒ­ì—ì„œ "ğŸ’¾ ì €ì¥" ë²„íŠ¼ì´ í™œì„±í™”ë¨
- âœ… ì €ì¥ í´ë¦­ ì‹œ "ğŸ”¥ ì €ì¥ë¨" ë˜ëŠ” "ğŸ’¾ ë¡œì»¬ì €ì¥" ë°°ì§€ í‘œì‹œ
- âœ… ê¸°ë¡ íƒ­ì— ì €ì¥ëœ ë²ˆí˜¸ í‘œì‹œ
- âœ… ì½˜ì†”ì— ì—ëŸ¬ ì—†ìŒ

### ë””ë²„ê¹… (ë¬¸ì œ ë°œìƒ ì‹œ)
```javascript
// ì½˜ì†”ì—ì„œ ì‹¤í–‰í•´ì„œ í•¨ìˆ˜ ìƒíƒœ í™•ì¸
console.log('records.js í•¨ìˆ˜ë“¤:', {
    saveForecastLocal: typeof saveForecastLocal,
    loadForecastData: typeof loadForecastData,
    normalizeType: typeof normalizeType,
    generateUUID: typeof generateUUID,
    saveToLS: typeof saveToLS
});

// ì €ì¥ í…ŒìŠ¤íŠ¸
var testEntry = saveForecastLocal({
    type: 'test',
    round: 1000,
    numbers: [1,2,3,4,5,6]
});
console.log('ì €ì¥ ê²°ê³¼:', testEntry);
```

---

## ğŸ“Š ì˜í–¥ë°›ëŠ” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ìƒíƒœ | ìˆ˜ì • í›„ |
|------|------|--------|
| ê¸°ë³¸ ì¶”ì²œ ì €ì¥ | âŒ ì‹¤íŒ¨ | âœ… ì„±ê³µ |
| ê³ ê¸‰ ì¶”ì²œ ì €ì¥ | âŒ ì‹¤íŒ¨ | âœ… ì„±ê³µ |
| ë°˜ìë™ ì €ì¥ | âŒ ì‹¤íŒ¨ | âœ… ì„±ê³µ |
| ê¸°ë¡ ì¡°íšŒ | âš ï¸ ë¶€ë¶„ | âœ… ì™„ì „ |
| LocalStorage | âœ… ì‘ë™ | âœ… ìœ ì§€ |
| Firebase ë™ê¸°í™” | âš ï¸ ë¶€ë¶„ | âœ… ê°œì„  |

---

## ğŸ“Œ ì£¼ì˜ì‚¬í•­

âš ï¸ **ëª¨ë“  íŒŒì¼ì„ ë™ì‹œì— êµì²´í•´ì•¼ í•©ë‹ˆë‹¤**
- ì¼ë¶€ë§Œ ìˆ˜ì •í•˜ë©´ í˜¸í™˜ì„± ë¬¸ì œ ë°œìƒ ê°€ëŠ¥

âš ï¸ **ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ë°ì´í„° ì•ˆì „**
- ê¸°ì¡´ ì €ì¥ ë°ì´í„°ëŠ” ìë™ìœ¼ë¡œ ìœ ì§€ë¨
- ë³„ë„ ë°±ì—… ë¶ˆí•„ìš”

âš ï¸ **Firebase ì—°ë™**
- ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ Firebase ì €ì¥ ì‹¤íŒ¨ ê°€ëŠ¥
- LocalStorageëŠ” í•­ìƒ ì‘ë™

---

## ğŸ”„ ë‹¤ìŒ ë‹¨ê³„

1. âœ… íŒŒì¼ êµì²´ ì™„ë£Œ
2. âœ… ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨ (Ctrl+Shift+R)
3. âœ… ì½˜ì†”ì—ì„œ í•¨ìˆ˜ ì •ì˜ í™•ì¸
4. âœ… ì €ì¥ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
5. âœ… ê¸°ë¡ íƒ­ì—ì„œ ë°ì´í„° í™•ì¸

---

**ë²„ì „**: v2.1  
**ì—…ë°ì´íŠ¸ ë‚ ì§œ**: 2026-02-15  
**ìƒíƒœ**: âœ… ì™„ë£Œ
