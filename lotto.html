<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>로또 1211회 결과</title>
<style>
body {
    font-family: Arial, sans-serif;
    padding: 40px;
    background: #f7f7f7;
}
h2 { margin-bottom: 20px; }
button {
    padding: 10px 18px;
    font-size: 16px;
    cursor: pointer;
}
table {
    border-collapse: collapse;
    margin-top: 25px;
    background: white;
}
th, td {
    border: 1px solid #ccc;
    padding: 10px 14px;
    text-align: center;
}
#error {
    color: red;
    margin-top: 15px;
}
</style>
</head>

<body>

<h2>로또 1211회 결과</h2>
<button onclick="loadLotto()">결과 가져오기</button>
<div id="error"></div>

<table id="resultTable" style="display:none;">
<thead>
<tr>
<th>회차</th>
<th>추첨일</th>
<th>번호1</th>
<th>번호2</th>
<th>번호3</th>
<th>번호4</th>
<th>번호5</th>
<th>번호6</th>
<th>보너스</th>
<th>당첨자수</th>
<th>당첨금</th>
</tr>
</thead>
<tbody></tbody>
</table>

<script>
async function loadLotto() {
    document.getElementById("error").textContent = "";

    try {
        const target =
        "https://www.dhlottery.co.kr/common.do?method=getLottoNumber&drwNo=1211";

        const proxy =
        "https://api.allorigins.win/raw?url=" + encodeURIComponent(target);

        const res = await fetch(proxy);
        const d = await res.json();

        if (d.returnValue !== "success") {
            throw new Error("데이터 없음");
        }

        const data = [
            d.drwNo,
            d.drwNoDate,
            d.drwtNo1,
            d.drwtNo2,
            d.drwtNo3,
            d.drwtNo4,
            d.drwtNo5,
            d.drwtNo6,
            d.bnusNo,
            d.firstPrzwnerCo,
            d.firstWinamnt.toLocaleString()
        ];

        const tbody = document.querySelector("#resultTable tbody");
        tbody.innerHTML = "";
        const tr = document.createElement("tr");

        data.forEach(v => {
            const td = document.createElement("td");
            td.textContent = v;
            tr.appendChild(td);
        });

        tbody.appendChild(tr);
        document.getElementById("resultTable").style.display = "table";

    } catch (e) {
        document.getElementById("error").textContent =
        "데이터를 불러오지 못했습니다.";
    }
}
</script>

</body>
</html>